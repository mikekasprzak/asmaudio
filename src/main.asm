; ----------------------------------------------------------------------------------------------- ;
	org 100h
; ----------------------------------------------------------------------------------------------- ;
section .text
	[BITS 16]
; ----------------------------------------------------------------------------------------------- ;


; ----------------------------------------------------------------------------------------------- ;
; MACROS
; ----------------------------------------------------------------------------------------------- ;
%macro PRINT 1
	mov ah, 9
	mov dx, %1
	int 21h
%endmacro

%macro KEY_GET 0
	mov ah, 1
	int 16h
%endmacro

;%macro CALL_SOUND_INIT
;
;%endmacro


; ----------------------------------------------------------------------------------------------- ;
main:
	mov dx, tSpeakerFile
	mov ah, 3Dh
	mov al, 0h
	int 21h

	jnc good

	PRINT(tError)
	jmp done
good:
	mov bx, ax
	mov ax, 3E00h
	int 21h

	jnc done

	PRINT(tError)
	jmp done

done:
	PRINT(tPressAKey)

loop:
	KEY_GET
	jz loop

	ret


; ----------------------------------------------------------------------------------------------- ;
section .data
; ----------------------------------------------------------------------------------------------- ;
tPressAKey:
	db "Press a key to Exit", 10, '$';

tError:
	db "Error", 10, "$";

tSpeakerFile:
	db "speaker.bin", 0;
